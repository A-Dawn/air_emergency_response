## License

Copyright (c) [2025] [Dawn_ARC]. All rights reserved.

未经明确授权,严禁使用、复制、修改或分发本代码。


### V0.5.1

**核心功能更新：**

*   **应急事件类型管理：** 增加了事件类型的管理功能，允许管理员自定义事件类型，提升了系统的灵活性。
*   **事件处理流程：** 优化了事件处理流程，实现了事件在不同状态之间的流转，并添加了审批和处理操作，提高了应急响应效率。
*   **权限控制：** 增强了权限控制机制，不同角色的用户只能访问其有权访问的 API 接口，提升了系统安全性。
*   **用户管理：** 完善了用户管理功能，包括用户创建、删除和密码重置，方便管理员进行用户管理。 添加邮箱服务，方便用户找回密码
*   **站内信通知：** 在关键业务节点添加了站内信功能，方便用户及时获取信息

**代码优化：**

*   **更清晰的项目结构：** 优化了项目结构设计，增强了模块化程度，提高了代码的可读性和可维护性。
*   **SM3加密：** 对用户的密码进行加密
*   **项目优化：**修复了数据库导入的问题，优化了项目结构

### 待办列表
#### 紧急修复

- [x] 敏感信息硬编码移除

	- [x] API以及Token
	- [x] Salt++
	- [x] 调试信息移除

- [x] Token验证逻辑统一
	- [x] 健壮度提高
	
- [ ] **极高优先级**SM2加密算法更改！(由于算法逻辑更改暂时搁置)
#### 高优先级
- [x] 国密密钥生成流程改造（等待客户端完善代码中）
   - [x] 用户登录注册改造
   - [x] 表单信息传输
- [x] 用户注册优化
- [x] 依赖版本固化
#### 中长期优化
- [x] 日志系统集成
- [x] 错误抛回修复（部分修复）
- [ ] 性能压测与优化 
- [ ] 模块函数复用优化（屎山优化）
- [x] 低限度安全测试 

**## 功能概述总结**

1.  用户注册与登录
2.  应急预案创建与查询
3.  事件记录创建与查询
4.  安全检查记录创建与查询
5.  认证与权限管理
6.  日志记录
7.  登录尝试记录与账户安全机制
8.  事件处理流程
    *  支持自定义告警
9.  通知与消息提醒

**## 项目功能概述**

1.  **用户管理**

    *   用户注册： 新用户可通过注册模块创建账号； 采用哈希加密， 确保存储安全。
    *   用户登录： 用户通过认证后， 系统将返回 Token， 用于后续的安全访问。
    *   Token 刷新： 允许在有效期内刷新 Token。
    *   账户安全： 提供用户删除、及密码重置。
2.  **预案管理**

    *   应急预案创建： 支持新建预案，记录预案详情。
    *   应急预案查询： 支持通过ID 获取预案。

3.  **事件管理**

    *   事件记录创建： 用于记录新发生的事件， 并支持附件上传。
    *   事件记录查询： 支持通过ID 获取事件详情。
    *   事件流程管理： 支持上报、 审批、 处理、 完结等环节， 并具有相应的权限控制。

4.  **安全检查管理**

    *   安全检查创建： 用于记录安全检查的结果。
    *   安全检查查询： 支持通过ID 获取安全检查详情。

5.  **认证与授权**

    *   采用 Token 的认证方案，用于验证用户身份。
    *   基于角色的权限控制， 保证不同角色的用户只能访问授权的功能。

6.  **日志记录**

    *  记录系统和用户的操作行为

7.  **安全机制**

    *   记录用户的登录行为，并对多次失败的尝试进行限制。

8.  **通知和提醒**
    *  使用内部消息进行通知和提醒

## 环境配置以及API文档均在setup目录下，请自行阅读


## Contributors

鸣谢以下贡献者对项目做出的贡献！
*   [Dawn ARC](https://github.com/A-Dawn) - 代码编写、文档更新、BUG修复

<a href="https://github.com/A-Dawn/air_emergency_response/graphs/contributors">
  <img src="https://contrib.rocks/image?repo=A-Dawn/air_emergency_response" />
</a>

[![Contributors](https://img.shields.io/github/contributors/A-Dawn/air_emergency_response)](https://github.com/A-Dawn/air_emergency_response/graphs/contributors)
